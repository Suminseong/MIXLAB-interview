<!DOCTYPE html>
<html lang="ko-KR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRETALK</title>
    <link rel="shortcut icon" href="img/logo.png">

    <link rel="stylesheet" href="main.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-cloud/1.2.5/d3.layout.cloud.min.js"></script>

    <!-- μΈνΈλ΅ μ• λ‹λ©”μ΄μ… -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MotionPathPlugin.min.js"></script>

</head>

<body>
    <div id="loadingSpinner" style="display:none;">
        <div class="spinner-overlay">
            <div class="dot-spinner">
                <div class="dot dot1"></div>
                <div class="dot dot2"></div>
                <div class="dot dot3"></div>
                <div class="dot dot4"></div>
            </div>
        </div>
    </div>

    <!-- μΈνΈλ΅ μ• λ‹λ©”μ΄μ… -->
    <div id="intro">
        <!-- κΈ€μ spanνƒκ·Έλ΅ ν•λ‚μ”© λ‚λ μ¤€ κ±°μ„ -->
    <h1 id="intro-logo"> 
        <span>P</span><span>R</span><span>E</span><span>T</span><span>A</span><span>L</span><span>K</span>
    </h1>

    <div class="svg-wrapper">
        <svg width="145" height="70" viewBox="0 0 145 70" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path id="motion-path"
            d="M10,58 
            Q50,20 90,58
            Q115,45 130,58" />
        </svg>



        <defs>
            <linearGradient id="paint0_linear_701_5" x1="17.5" y1="35.0982" x2="127" y2="35.0982" gradientUnits="userSpaceOnUse">
            <stop stop-color="#6BA4FF"/>
            <stop offset="0.495192" stop-color="#5F85FF"/>
            <stop offset="1" stop-color="#5872FF"/>
            </linearGradient>
        </defs>
        </svg>
    </div>
    </div>


    <div id="apiKeyModal">
        <div class="api-key-modal-content" style="position:relative;">
            <button id="closeApiKeyModal" class="close-button api-key-modal-x">X</button>
            <h3 class="apikey_text">API Key</h3>
            <p class="apikey_text">μ‚¬μ©ν•  API Keyλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.</p>
            <input type="text" id="apiKeyInput" placeholder="OpenAI API Key μ…λ ¥" style="width: 100%; padding: 8px;">
            <button id="saveApiKey" style="margin-top: 10px;">μ €μ¥</button>
        </div>
    </div>
    <div class="base-container">
        <div class="aside-left">
            <div id="aside-bar">
                <div id="logo">
                    <p class="logo-text">UwU</p>
                </div>
                <div id="nav-bar">
                    <div class="btn-preset nav-active" id="nav-item">
                        <div class="nav-img"><img src="./img/preset.svg" alt="setup"></div>
                        <p class="nav-text" data-label="μ§λ¬Έμ§€μƒμ„±">Setupγ€€</p>
                    </div>
                    <div class="btn-persona" id="nav-item">
                        <div class="nav-img"><img src="./img/persona.svg" alt="persona"></div>
                        <p class="nav-text" data-label="νΌμ†λ‚μƒμ„±">Persona</p>
                    </div>
                    <div class="btn-interview" id="nav-item">
                        <div class="nav-img"><img src="./img/interview.svg" alt="interview"></div>
                        <p class="nav-text" data-label="μΈν„°λ·°μ§„ν–‰">Interview</p>
                    </div>
                    <div class="btn-analysis" id="nav-item">
                        <div class="nav-img"><img src="./img/analysis.svg" alt="analysis"></div>
                        <p class="nav-text" data-label="μΈν„°λ·°λ¶„μ„">Analysis</p>
                    </div>
                    <div class="btn-revision" id="nav-item">
                        <div class="nav-img"><img src="./img/revision.svg" alt="refine"></div>
                        <p class="nav-text" data-label="μ§λ¬Έμ§€λ³΄μ™„">Refineγ€€</p>
                    </div>
                </div>
                <button id="changeApiKey">
                    <img src="img/icon_key.svg" alt="API Key">
                </button>
            </div>
        </div>
        <!--μ¤‘μ•™ ν° μμ—­-->
        <div class="main-container">
            <div id="result">
                <div id="question-page" class="page">
                    <h2>μΈν„°λ·° μ§λ¬Έ</h2>
                    <div class="question-box" id="question-container"></div>
                    <button id="goToPersonaBtn" class="nextBtn">λ‹¤μ</button>
                </div>
            
                <div id="persona-page" class="page" style="display: none;">
    <h2></h2>
    <div class="persona-navigation-con" style="position: relative; width: 100%;">
      <button class="persona-nav-btn" id="personaLeftBtn"><img src="img/btn_left.svg" alt=""></button>
      <div class="persona-container-box" id="persona-container"></div>
      <button class="persona-nav-btn" id="personaRightBtn"><img src="img/btn_right.svg" alt=""></button>
    </div>
    <button id="goToInterviewBtn" class="nextBtn" style="display: block;">λ‹¤μ</button>
                </div>

                <div id="interview-page" class="page" style="display: none;">
                    <!-- <h2>μΈν„°λ·° μ§„ν–‰</h2> -->
                    <div class="interview-box" id="interview-container">
                        <div class="chatbox-persona">
                            <!-- JSμ—μ„ νΌμ†λ‚ μ •λ³΄κ°€ λ“¤μ–΄κ° -->
                        </div>
                        <div id="chatbox">
                            <!-- λ€ν™” λ‚΄μ©μ΄ μ—¬κΈ°μ— κΈ°λ΅λ¨ -->
                        </div>
                        <div id="chating">
                            <div id="chating-left">
                                <img id="chating-left-img" src="img/woman-2-talk.gif">
                                <div id="chating-left-box"></div>
                            </div>
                            <div id="chating-right-box"></div>
                        </div>
                        <div class="input-group">
                            <input type="text" id="userInput" placeholder="μ§λ¬Έμ„ μ…λ ¥ν•κ±°λ‚ λ§μ΄ν¬ λ²„νΌμ„ λ„λ¥΄μ„Έμ”." style="width: 80%; padding: 8px;">
                            <button id="sendButton">β†‘</button>
                            <button id="micButton">π¤</button>
                        </div>
                    </div>
                </div>
                

                <div id="analyze-page" class="page" style="display: none;"> <!--λ¶„μ„ νμ΄μ§€ μ¶”κ°€ν•λ” κ³³-->
                    <h2>μΈν„°λ·° λ¶„μ„</h2>
                    <div class="analyze-dashboard">
                        <div class="analyze-main">
                            <div class="analyze-profile-bar">
                                <div class="analyze-profile-info">
                                    <span class="profile-name">μ μ§€μ—°</span>
                                    <span class="profile-age">27μ„Έ</span>
                                    <span class="profile-gender">μ—¬μ„±</span>
                                    <span class="profile-type">ENFP</span>
                                </div>
                                <div class="analyze-profile-tags">
                                    <span>μ„μΈ</span>
                                    <span>λ””μμ΄λ„</span>
                                    <span>λ…μ„</span>
                                    <span>ν™λ°ν•κ³  μ κ·Ήμ </span>
                                </div>
                            </div>
                            <div class="analyze-persona-tabs">
                                <button class="persona-tab active">νΌμ†λ‚1</button>
                                <button class="persona-tab">νΌμ†λ‚2</button>
                                <button class="persona-tab">νΌμ†λ‚3</button>
                            </div>
                            <div class="analyze-chart-section">
                                <div class="analyze-title">Time table</div>
                                <canvas id="barChart" width="600" height="220"></canvas>
                            </div>
                            <div class="analyze-keywords-summary">
                                <div class="analyze-keywords">
                                    <div class="keywords-title">ν•µμ‹¬ ν‚¤μ›λ“</div>
                                    <div id="keywordCloud" class="keyword-cloud"></div>
                                </div>
                                <div class="analyze-summary-panels">
                                    <div class="summary-panel">
                                        <div class="summary-title">μΈν„°λ·° μ”μ•½</div>
                                        <div id="summaryText" class="summary-text"></div>
                                    </div>
                                    <div class="feedback-panel">
                                        <div class="feedback-title">-</div>
                                        <ul id="feedbackList" class="feedback-list"></ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>

                <div id="revision-page" class="page" style="display: none;">
                    <h2>μΈν„°λ·° μμ •</h2>
                    <div class="revision-box" id="revision-container"></div>
                </div>
            </div>
        </div>
        <div class="sub-container">
            <div class="sub-upper">
                <div class="container-children sub-preset sub-activate">
                    <div class="side-box">
                        <label for="interviewTitle">μΈν„°λ·° μ£Όμ </label>
                        <input
                        type="text"
                        id="interviewTitle"
                        class="ripple-input"
                        placeholder="μΈν„°λ·° μ£Όμ λ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”."
                        >
                    </div>

                    <div class="side-box">
                        <label for="interviewFor">μΈν„°λ·° λ©μ </label>
                        <div class="ripple-wrapper">
                        <input
                            type="text"
                            id="interviewFor"
                            class="ripple-input"
                            placeholder="μΈν„°λ·° λ©μ μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”."
                        >
                        </div>
                    </div>
                </div>

                <div class="container-children sub-persona sub-inactive">
                    <div class="side-box">
                        <label for="interviewTitle">μΈν„°λ·° μ£Όμ </label>
                        <p id="personaTitle"></p>
                    </div>
                    <div class="side-box" id="persona-easecreate">
                        <div class="label-box">
                            <label for="interviewFor">νΌμ†λ‚ κ°„νΈ μƒμ„±</label>
                            <div class="toggle-container">
                                <input type="checkbox" id="toggle" class="toggle-input" checked>
                                <label for="toggle" class="toggle-label"></label>
                            </div>                            
                        </div>
                    </div>
                    <div class="side-box" id="persona-side">
                        <div class="persona-prompt-box">
                            <label for="promptForPersona1">νΌμ†λ‚1</label>
                            <input type="text" id="promptForPersona1" placeholder="μ›ν•λ” μ„¤μ •μ„ μƒμ„Έν μ μ–΄μ£Όμ„Έμ”">
                        </div>
                        <div class="persona-prompt-box">
                            <label for="promptForPersona2">νΌμ†λ‚2</label>
                            <input type="text" id="promptForPersona2" placeholder="μ›ν•λ” μ„¤μ •μ„ μƒμ„Έν μ μ–΄μ£Όμ„Έμ”">
                        </div>
                        <div class="persona-prompt-box">
                            <label for="promptForPersona3">νΌμ†λ‚3</label>
                            <input type="text" id="promptForPersona3" placeholder="μ›ν•λ” μ„¤μ •μ„ μƒμ„Έν μ μ–΄μ£Όμ„Έμ”">
                        </div>
                    </div>
                </div>
                <div class="container-children sub-interview sub-inactive">
                    <div class="interview-meta">
                      <div class="interview-time">
                            <div class="interview-left">
                                <p class="time_subtitle">λ‚¨μ€ μ‹κ°„</p>
                                <p id="left-time"></p>
                            </div>
                            <div class="time-separator">
                                <img src="./img/time_dot.svg" alt="time separator">
                            </div>
                            <div class="interview-set">
                                <p class="time_subtitle">μ„¤μ • μ‹κ°„</p>
                                <p id="set-time"></p>
                            </div>
                      </div>
                    </div>
                    <div class="interview-questions-container">
                        <div class="interview-questions">
                          <h4>μΈν„°λ·° μ§λ¬Έμ§€</h4>
                          <ul id="questionList"></ul>
                        </div>
                        <button id="endInterviewBtn">μΈν„°λ·° μΆ…λ£</button>
                    </div>
                </div>
                <!--μΈν„°λ·° μ‚¬μ΄λ“ μμ—­-->
                <div class="container-children sub-analysis sub-inactive">
                    <div class="analyze-side">
                            <div class="side-widget donut-widget">
                                <div class="widget-title">μΈν„°λ·° μΆ…ν•© μ‹κ°„</div>
                                <canvas id="donutChart" width="160" height="160"></canvas>
                                <div class="donut-center-text">
                                    <span id="donutPercent">80%</span>
                                    <span id="donutTime"></span>
                                </div>
                            </div>
                            <div class="side-widget affinity-widget">
                                <div class="widget-title">νΌμ†λ‚ μΉλ°€λ„ <span class="info-tooltip" title="μ΄ κ·Έλν”„λ” μΈν„°λ·° μ΄κΈ° μ•„μ΄μ¤λΈλ μ΄ν‚Ή λ‹¨κ³„μ—μ„ νΌμ†λ‚μ™€μ μΉν™” ν•μ„± μ •λ„λ΅ μ‹κ°ν™”ν• κ²ƒμΌλ΅...">?</span></div>
                                <div class="affinity-stepper">
                                    <div class="affinity-step active">1</div>
                                    <div class="affinity-step">2</div>
                                    <div class="affinity-step">3</div>
                                </div>
                                <div class="affinity-desc">μ΄ κ·Έλν”„λ” μΈν„°λ·° μ΄κΈ° μ•„μ΄μ¤λΈλ μ΄ν‚Ή λ‹¨κ³„μ—μ„ νΌμ†λ‚μ™€μ μΉν™” ν•μ„± μ •λ„λ΅ μ‹κ°ν™”ν• κ²ƒμΌλ΅...</div>
                            </div>
                            <div class="side-widget speed-widget">
                                <div class="widget-title">λ§μ μ†λ„</div>
                                <div class="speed-bar-bg">
                                    <div class="speed-bar" id="speedBar" style="width: 85%"></div>
                                </div>
                                <div class="speed-label">85% μ΅°κΈ λΉ¨λμ–΄μ”</div>
                            </div>
                            <div class="side-widget lang-widget">
                                <div class="widget-title">μ–Έμ–΄μµκ΄€ ν”Όλ“λ°±</div>
                                <ul class="lang-feedback-list" id="langFeedbackList">
                                    <li>λ¬Έμ¥μ„ μ½λ” μ¤‘κ°„μ— λ§μ„ λ”λ“¬λ” μµκ΄€μ΄ μμ–΄μ”.</li>
                                    <li>μΈν„°λ·° μ§λ¬Έμ§€λ¥Ό λ―Έλ¦¬ μ½λ” μ—°μµμ„ ν†µν•΄ λ§ λ”λ“¬λ” μµκ΄€μ„ κ°μ„ ν•΄ λ³΄μ„Έμ”!</li>
                                </ul>
                            </div>
                        </div>
                </div> <!--λ¶„μ„ νμ΄μ§€ μ¶”κ°€ν•λ” κ³³-->
                <div class="container-children sub-revision sub-inactive"></div>
            </div>
            <div class="side-box" id="gen-question"> 
                <div class="container-children">
                    <div class="counter-section">
                        <span>μ§λ¬Έ μƒμ„± κ°μ</span>
                        <div class="counter">
                            <button id="decrease-btn">β’</button>
                            <span id="count">8</span>
                            <button id="increase-btn">+</button>
                        </div>
                    </div>
                    <button class="create-btn-style" id="generate-btn">μΈν„°λ·° μ§λ¬Έμ§€ μƒμ„±</button> <!--class μ¶”κ°€(1)-->
                </div>
            </div>
            <div class="side-box" id="gen-persona">
                <div class="container-children">
                    <div class="counter-section">
                        <span>νΌμ†λ‚ μƒμ„± κ°μ</span>
                        <div class="counter">
                            <button id="persona-decrease-btn">β’</button>
                            <span id="persona-count">3</span>
                            <button id="persona-increase-btn">+</button>
                        </div>
                    </div>
                    <button class="create-btn-style" id="persona-generate-btn">νΌμ†λ‚ μƒμ„±</button>
                </div>
            </div>
        </div>
    </div>
    </div>

    <div class="custom-cursor"></div>

    <button id="global-question-add-btn" type="button" title="μ§λ¬Έ μ¶”κ°€">
        <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
            <circle cx="16" cy="16" r="15" fill="#F8F9FB" stroke="#E7F0FF" stroke-width="2"/>
            <rect x="15.25" y="10" width="1.5" height="12" rx="0.75" fill="#8F949B"/>
            <rect x="10" y="15.25" width="12" height="1.5" rx="0.75" fill="#8F949B"/>
        </svg>
    </button>

    <!-- μΈν„°λ·° μ‹κ°„ μ„¤μ • νμ—… λ¨λ‹¬ -->
    <div id="interviewTimeModal">
        <div class="interview-time-modal-content">
            <h3>μΈν„°λ·° μ§„ν–‰ μ‹κ°„μ„ μ„¤μ •ν•΄μ£Όμ„Έμ”</h3>
            <button class="time-option" data-time="5">5λ¶„</button>
            <button class="time-option" data-time="10">10λ¶„</button>
            <button class="time-option" data-time="15">15λ¶„</button>
            <button class="time-option" data-time="20">20λ¶„</button>
            <button class="time-option" data-time="30">30λ¶„</button>
            <div class="time-buttons">
                <button class="time-btn cancel" id="timeModalCancel">μ·¨μ†</button>
                <button class="time-btn confirm" id="timeModalConfirm">ν™•μΈ</button>
            </div>
        </div>
    </div>
</body>
<script src="script.js"></script>
<script src="activeStyle.js"></script>

</html>